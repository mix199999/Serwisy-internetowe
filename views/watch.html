<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <title>Title</title>
</head>

<body>
  <div class="container">
      <div class="row mt-5">
          <div class="col-md-12">
              <?php
              // wyświetl aktualny film w zaleznosci czy rozszerzenie mp4 czy brak dla youtube
              if($urlTable[$currentIndex]['extension'] == 'url') {
                  echo "<iframe width='1233' height='753' src='" . Video::youtube_link_to_embed($urlTable[$currentIndex]['url']) . "' title='' frameborder='0' allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture' allowfullscreen></iframe>";
              } else {
                  $stringURL = $urlTable[$currentIndex]['url'];
                  $stringEXT = $urlTable[$currentIndex]['extension'];
                  echo "<video width='1233' height='753' controls> <source src='$stringURL' type='video/$stringEXT'> </video>";    
              }
              ?>
          </div>
      </div>

      <div class="row">
          <div class="col-md-12 text-center">
              <?php
              // sprawdź, czy istnieje poprzedni film
              if ($currentIndex > 0) {
                  echo "<a href='index.php?action=watch&index=" . ($currentIndex - 1) . "'><button class='btn btn-secondary mx-2'>Poprzedni</button></a>";
              }
              // sprawdź, czy istnieje następny film
              if ($currentIndex < count($urlTable) - 1) {
                  echo "<a href='index.php?action=watch&index=" . ($currentIndex + 1) . "'><button class='btn btn-secondary mx-2'>Następny</button></a>";
              }
              ?>
          </div>
      </div>
  </div>

    <!--
Report Video
-->
<button id="reportVideo-button" class="btn btn-light">Report Video</button>
    
<div id="popupVideo" style="display:none;">
    <form method = 'post' id="reportVideo-form">
        <label for="title">Title:</label><br>
        <input type="text" id="title" name="title1"><br>
      <label for="reason">Reason for Video report:</label><br>
      <input type="text" id="reason" name="reason1"><br>
      <button type="submit" name="reportVideoButton">Submit Report</button>
    </form>
  </div>

  <script src="scripts/reportVideo.js"></script>

<!--
Report User
-->
<button id="reportUser-button" class="btn btn-light">Report User</button>

<div id="popupUser" style="display:none;">
    <form method = 'post' id="reportUser-form">
        <label for="title">Title:</label><br>
        <input type="text" id="title" name="title2"><br>
      <label for="reason">Reason for User report :</label><br>
      <input type="text" id="reason" name="reason2"><br>
      <button type="submit" name="reportUserButton">Submit Report</button>
    </form>
  </div>

  <script src="scripts/reportUser.js"></script>
  
<!--
Change privil.
-->
<button id="changePrivil-button" class="btn btn-light" >Change Privil</button>

<div id="popupPrivil" style="display:none;">
    <form method = 'post' id="changePrivil-form">
        <label for="title">Title:</label><br>
        <input type="text" id="title" name="title3"><br>
      <label for="reason">Reason for change report:</label><br>
      <input type="text" id="reason" name="reason3"><br>
      <button type="submit" name="changePrivilButton">Submit Report</button>
    </form>
  </div>

  <script src="scripts/changePrivil.js"></script>

</body>
</html>